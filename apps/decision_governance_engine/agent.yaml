# -*- coding: utf-8 -*-
# Decision Governance Engine - Agent Configuration
# é“ãƒ»æ³•ãƒ»è¡“ãƒ»å™¨ãƒ»æ¤œè¨¼ã®5å±¤æ§‹é€ ã«ã‚ˆã‚‹æ„æ€æ±ºå®šæ”¯æ´ã‚·ã‚¹ãƒ†ãƒ 

name: decision_governance_engine
version: "1.0.0"
description: |
  ä¼æ¥­ã®æ„æ€æ±ºå®šã‚’æ”¯æ´ã™ã‚‹ãƒãƒ«ãƒã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã‚·ã‚¹ãƒ†ãƒ ã€‚
  é“ï¼ˆæœ¬è³ªï¼‰â†’æ³•ï¼ˆæˆ¦ç•¥ï¼‰â†’è¡“ï¼ˆè¨ˆç”»ï¼‰â†’å™¨ï¼ˆå®Ÿè£…ï¼‰â†’æ¤œè¨¼ã®5å±¤ã§æ§‹é€ åŒ–ã•ã‚ŒãŸåˆ†æã‚’æä¾›ã€‚

# Agentå®šç¾©
agents:
  gatekeeper:
    name: GatekeeperAgent
    description: å…¥å£æ¤œè¨¼Agent - ä¸é©æ ¼ãªå•é¡Œã‚’é–€å‰æ‰•ã„
    class: apps.decision_governance_engine.agents.GatekeeperAgent
    config:
      max_tokens: 300
      temperature: 0.1
      use_rag: false

  dao:
    name: DaoAgent
    description: æœ¬è³ªåˆ¤å®šAgentï¼ˆé“ï¼‰- å•é¡Œã®æœ¬è³ªã‚’æŠ½å‡º
    class: apps.decision_governance_engine.agents.DaoAgent
    config:
      max_tokens: 500
      temperature: 0.3
      use_rag: false

  fa:
    name: FaAgent
    description: æˆ¦ç•¥é¸å®šAgentï¼ˆæ³•ï¼‰- æˆ¦ç•¥ãƒ‘ã‚¹ã‚’è©•ä¾¡
    class: apps.decision_governance_engine.agents.FaAgent
    config:
      max_tokens: 800
      temperature: 0.4
      use_rag: false
      max_recommended_paths: 2

  shu:
    name: ShuAgent
    description: å®Ÿè¡Œè¨ˆç”»Agentï¼ˆè¡“ï¼‰- å…·ä½“çš„ãªå®Ÿè¡Œè¨ˆç”»ã‚’ç­–å®š
    class: apps.decision_governance_engine.agents.ShuAgent
    config:
      max_tokens: 1000
      temperature: 0.5
      use_rag: true
      rag_sources:
        - industry_practices
        - case_studies

  qi:
    name: QiAgent
    description: æŠ€è¡“å®Ÿè£…Agentï¼ˆå™¨ï¼‰- æŠ€è¡“çš„ãªå®Ÿè£…æ–¹é‡ã‚’ç­–å®š
    class: apps.decision_governance_engine.agents.QiAgent
    config:
      max_tokens: 1200
      temperature: 0.6
      use_rag: true
      rag_sources:
        - technical_docs
        - compliance

  review:
    name: ReviewAgent
    description: æ¤œè¨¼Agent - å…¨å±¤ã®çµæœã‚’æ¤œè¨¼ã—æœ€çµ‚åˆ¤å®š
    class: apps.decision_governance_engine.agents.ReviewAgent
    config:
      max_tokens: 1500
      temperature: 0.7
      mandatory_checks:
        - è²¬ä»»è€…ãŒæ˜ç¢ºã‹
        - æœ€æ‚ªã‚±ãƒ¼ã‚¹ã®æƒ³å®šãŒã‚ã‚‹ã‹
        - æ’¤é€€æ¡ä»¶ãŒå®šç¾©ã•ã‚Œã¦ã„ã‚‹ã‹
        - æœ€åˆã®ä¸€æ­©ãŒæ˜æ—¥å®Ÿè¡Œå¯èƒ½ã‹

# Workflowå®šç¾©
workflow:
  type: sequential
  pattern: multi_agent
  stages:
    - name: gate
      agent: gatekeeper
      on_reject: terminate
    - name: essence
      agent: dao
    - name: strategy
      agent: fa
    - name: planning
      agent: shu
    - name: implementation
      agent: qi
    - name: verification
      agent: review
      on_revise: rollback  # REVISEã®å ´åˆã¯è©²å½“Agentã«å›é€€

# Studio UIï¼ˆReact Flowï¼‰ç”¨ãƒãƒ¼ãƒ‰å®šç¾©
studio:
  enabled: true
  title: Decision Governance Engine
  description: é“ãƒ»æ³•ãƒ»è¡“ãƒ»å™¨ã«ã‚ˆã‚‹æ„æ€æ±ºå®šãƒ•ãƒ­ãƒ¼
  nodes:
    - id: gatekeeper
      type: agent
      label: é–€ç•ª
      icon: "ğŸšª"
      position: { x: 100, y: 200 }
      style:
        background: "#f3f4f6"
        border: "#374151"
    - id: dao
      type: agent
      label: é“ï¼ˆæœ¬è³ªï¼‰
      icon: "ğŸ¯"
      position: { x: 300, y: 200 }
      style:
        background: "#dbeafe"
        border: "#2563eb"
    - id: fa
      type: agent
      label: æ³•ï¼ˆæˆ¦ç•¥ï¼‰
      icon: "âš–ï¸"
      position: { x: 500, y: 200 }
      style:
        background: "#dcfce7"
        border: "#16a34a"
    - id: shu
      type: agent
      label: è¡“ï¼ˆè¨ˆç”»ï¼‰
      icon: "ğŸ“‹"
      position: { x: 700, y: 200 }
      style:
        background: "#fef3c7"
        border: "#d97706"
    - id: qi
      type: agent
      label: å™¨ï¼ˆå®Ÿè£…ï¼‰
      icon: "ğŸ”§"
      position: { x: 900, y: 200 }
      style:
        background: "#fce7f3"
        border: "#db2777"
    - id: review
      type: agent
      label: æ¤œè¨¼
      icon: "âœ…"
      position: { x: 1100, y: 200 }
      style:
        background: "#f0fdf4"
        border: "#15803d"
    - id: reject_exit
      type: output
      label: æ‹’å¦
      icon: "âŒ"
      position: { x: 100, y: 350 }
      style:
        background: "#fee2e2"
        border: "#dc2626"
    - id: report_output
      type: output
      label: ãƒ¬ãƒãƒ¼ãƒˆå‡ºåŠ›
      icon: "ğŸ“„"
      position: { x: 1100, y: 350 }
      style:
        background: "#e0f2fe"
        border: "#0284c7"
  edges:
    - source: gatekeeper
      target: dao
      label: å—ç†
      condition: is_acceptable
    - source: gatekeeper
      target: reject_exit
      label: æ‹’å¦
      condition: "!is_acceptable"
      style:
        stroke: "#dc2626"
        strokeDasharray: "5,5"
    - source: dao
      target: fa
    - source: fa
      target: shu
    - source: shu
      target: qi
    - source: qi
      target: review
    - source: review
      target: report_output
      label: PASS
      condition: "verdict == PASS"
    - source: review
      target: dao
      label: REVISE
      condition: "verdict == REVISE"
      style:
        stroke: "#d97706"
        strokeDasharray: "3,3"
    - source: review
      target: reject_exit
      label: REJECT
      condition: "verdict == REJECT"
      style:
        stroke: "#dc2626"
        strokeDasharray: "5,5"

# å‡ºåŠ›è¨­å®š
output:
  format: decision_report
  include_sections:
    - executive_summary
    - dao_analysis
    - fa_strategy
    - shu_plan
    - qi_implementation
    - review_findings
  signature_required: true

# RAGè¨­å®š
rag:
  enabled: true
  sources:
    industry_practices:
      type: vector_store
      description: æ¥­ç•Œãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹
    case_studies:
      type: vector_store
      description: éå»ã®äº‹ä¾‹
    technical_docs:
      type: vector_store
      description: æŠ€è¡“ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
    compliance:
      type: vector_store
      description: ã‚³ãƒ³ãƒ—ãƒ©ã‚¤ã‚¢ãƒ³ã‚¹è¦å®š

# ãƒ­ã‚°è¨­å®š
logging:
  level: INFO
  format: "%(asctime)s - %(name)s - %(levelname)s - %(message)s"
  handlers:
    - console
    - file
  file_path: logs/decision_engine.log

