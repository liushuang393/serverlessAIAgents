agentflow/skills/versioning/diff_engine.py:319:20: error: Need type annotation for "analysis"  [var-annotated]
agentflow/storage/backend.py:231:27: error: "BaseStorageBackend" has no attribute "get"; maybe "mget"?  [attr-defined]
agentflow/storage/backend.py:243:19: error: "BaseStorageBackend" has no attribute "set"; maybe "mset"?  [attr-defined]
agentflow/skills/pdf_export.py:84:13: error: Returning Any from function declared to return "dict[str, Any]"  [no-any-return]
agentflow/skills/conversation_export.py:282:35: error: Argument "user_name" to "ExportMessage" has incompatible type "Any | None"; expected "str"  [arg-type]
agentflow/skills/conversation_export.py:284:33: error: Argument "content" to "ExportMessage" has incompatible type "Any | None"; expected "str"  [arg-type]
agentflow/skills/versioning/version_store.py:210:13: error: Returning Any from function declared to return "dict[str, Any]"  [no-any-return]
agentflow/skills/builtin/conversation_export/conversation_export.py:282:35: error: Argument "user_name" to "ExportMessage" has incompatible type "Any | None"; expected "str"  [arg-type]
agentflow/skills/builtin/conversation_export/conversation_export.py:284:33: error: Argument "content" to "ExportMessage" has incompatible type "Any | None"; expected "str"  [arg-type]
agentflow/services/semantic_layer.py:213:25: error: "str" not callable  [operator]
agentflow/protocols/a2ui/emitter.py:109:19: error: Item "None" of "Any | None" has no attribute "emit_progress"  [union-attr]
agentflow/patterns/deep_agent/result_summarizer.py:228:9: error: Returning Any from function declared to return "dict[str, Any]"  [no-any-return]
agentflow/observability/logging.py:226:25: error: Incompatible types in assignment (expression has type "TextFormatter", variable has type "JSONFormatter")  [assignment]
agentflow/observability/logging.py:314:19: error: Incompatible types in assignment (expression has type "FileHandler", variable has type "StreamHandler[TextIO | Any]")  [assignment]
agentflow/memory/memory_distiller.py:182:17: error: Returning Any from function declared to return "str"  [no-any-return]
agentflow/memory/knowledge/memvid_store.py:38: error: Unused "type: ignore" comment  [unused-ignore]
agentflow/memory/knowledge/memvid_store.py:39: error: Unused "type: ignore" comment  [unused-ignore]
agentflow/knowledge/doc_health_checker.py:453:9: error: Need type annotation for "issues" (hint: "issues: list[<type>] = ...")  [var-annotated]
agentflow/integrations/ticket_generator.py:554:35: error: Incompatible types in assignment (expression has type "dict[str, str]", target has type "TicketStatus")  [assignment]
agentflow/deploy/serverless_generator.py:217:5: error: Value of type "object" is not indexable  [index]
agentflow/deploy/serverless_generator.py:218:5: error: Value of type "object" is not indexable  [index]
agentflow/datalake/format_handlers.py:356:9: error: Returning Any from function declared to return "list[dict[str, Any]]"  [no-any-return]
agentflow/core/registry.py:56:13: error: Statement is unreachable  [unreachable]
agentflow/memory/vector_db/qdrant_db.py:139:23: error: Argument "topic" to "MemoryEntry" has incompatible type "Any | None"; expected "str"  [arg-type]
agentflow/memory/vector_db/pinecone_db.py:121:23: error: Argument "topic" to "MemoryEntry" has incompatible type "Any | None"; expected "str"  [arg-type]
agentflow/memory/distributed/redis_backend.py:147:9: error: Returning Any from function declared to return "bool"  [no-any-return]
agentflow/memory/distributed/redis_backend.py:189:9: error: Returning Any from function declared to return "bool"  [no-any-return]
agentflow/memory/distributed/redis_backend.py:199:13: error: Returning Any from function declared to return "int"  [no-any-return]
agentflow/memory/distributed/postgres_backend.py:173:13: error: Returning Any from function declared to return "bool"  [no-any-return]
agentflow/memory/distributed/postgres_backend.py:235:13: error: Returning Any from function declared to return "bool"  [no-any-return]
agentflow/memory/distributed/postgres_backend.py:248:13: error: Returning Any from function declared to return "int"  [no-any-return]
agentflow/memory/knowledge/knowledge_manager.py:127:19: error: Missing type parameters for generic type "dict"  [type-arg]
agentflow/memory/knowledge/knowledge_manager.py:167:23: error: Missing type parameters for generic type "dict"  [type-arg]
agentflow/memory/knowledge/knowledge_manager.py:247:19: error: Missing type parameters for generic type "dict"  [type-arg]
agentflow/skills/base.py:111:13: error: Statement is unreachable  [unreachable]
agentflow/skills/core/base.py:120:13: error: Statement is unreachable  [unreachable]
agentflow/deploy/config/manager.py:437:13: error: Returning Any from function declared to return "dict[str, Any] | None"  [no-any-return]
agentflow/deploy/targets/modal.py:170:26: error: List item 0 has incompatible type "None"; expected "str"  [list-item]
agentflow/security/reasoning_monitor.py:472:17: error: Returning Any from function declared to return "str"  [no-any-return]
agentflow/security/policy_engine.py:274:9: error: Statement is unreachable  [unreachable]
agentflow/security/output_contracts.py:517:27: error: Incompatible types in assignment (expression has type "Any | None", variable has type "dict[str, Any]")  [assignment]
agentflow/security/output_contracts.py:518:13: error: Statement is unreachable  [unreachable]
agentflow/security/output_contracts.py:525:17: error: Statement is unreachable  [unreachable]
agentflow/security/oauth2_provider.py:25:15: error: Missing type parameters for generic type "dict"  [type-arg]
agentflow/security/hallucination_detector.py:415:9: error: Need type annotation for "issues" (hint: "issues: list[<type>] = ...")  [var-annotated]
agentflow/security/data_sanitizer.py:450:13: error: "object" has no attribute "append"  [attr-defined]
agentflow/security/data_sanitizer.py:466:21: error: "object" has no attribute "append"  [attr-defined]
agentflow/providers/data_provider.py:289:36: error: Argument "url" to "SQLConfig" has incompatible type "str | None"; expected "str"  [arg-type]
agentflow/providers/data_provider.py:310:44: error: Argument "provider" to "VectorConfig" has incompatible type "str | None"; expected "str"  [arg-type]
agentflow/protocols/ucp/ucp_messages.py:67:25: error: Argument "default_factory" to "Field" has incompatible type "Callable[[], dict[str, None]]"; expected "Callable[[], dict[str, float | None]] | Callable[[dict[str, Any]], dict[str, float | None]]"  [arg-type]
agentflow/pev/result_verifier.py:117:13: error: Statement is unreachable  [unreachable]
agentflow/patterns/reflexion.py:376:22: error: Argument "severity" to "Reflection" has incompatible type "str"; expected "Severity"  [arg-type]
agentflow/core/dual_verifier.py:392:9: error: Returning Any from function declared to return "bool"  [no-any-return]
agentflow/commerce/models/intent.py:88:25: error: Argument "default_factory" to "Field" has incompatible type "Callable[[], dict[str, None]]"; expected "Callable[[], dict[str, float | None]] | Callable[[dict[str, Any]], dict[str, float | None]]"  [arg-type]
agentflow/api/response.py:122:16: error: Missing named argument "error" for "APIResponse"  [call-arg]
agentflow/api/response.py:147:16: error: Missing named argument "data" for "APIResponse"  [call-arg]
agentflow/api/response.py:147:16: error: Incompatible return value type (got "APIResponse[T]", expected "APIResponse[None]")  [return-value]
agentflow/patterns/deep_agent/da_compressor.py:245:13: error: Returning Any from function declared to return "str"  [no-any-return]
agentflow/hitl/postgres_checkpointer.py:275:13: error: Returning Any from function declared to return "bool"  [no-any-return]
agentflow/core/schemas.py:108:41: error: Argument 1 to "SchemaValidationError" has incompatible type "list[ErrorDetails]"; expected "list[dict[str, Any]]"  [arg-type]
agentflow/context/tool_selector.py:455:9: error: Returning Any from function declared to return "float"  [no-any-return]
agentflow/core/engine.py:263:21: error: Returning Any from function declared to return "dict[str, Any]"  [no-any-return]
agentflow/core/tool_discovery.py:110:30: error: "ToolProvider" has no attribute "__iter__" (not iterable)  [attr-defined]
agentflow/core/tool_binding.py:55:5: error: Function is missing a type annotation  [no-untyped-def]
agentflow/skills/mode_switcher.py:92:46: error: Missing type parameters for generic type "dict"  [type-arg]
agentflow/runtime/quota_manager.py:173:9: error: Statement is unreachable  [unreachable]
agentflow/pev/monitored_executor.py:224:21: error: Incompatible types in "yield" (actual type "ExecutionEvent | BaseException", expected type "ExecutionEvent")  [misc]
agentflow/patterns/task_decomposer.py:582:39: error: Incompatible types in assignment (expression has type "dict[str, Any] | BaseException", variable has type "dict[str, Any] | None")  [assignment]
agentflow/patterns/task_decomposer.py:600:13: error: Returning Any from function declared to return "dict[str, Any]"  [no-any-return]
agentflow/orchestration/monitor.py:218:5: error: Function is missing a return type annotation  [no-untyped-def]
agentflow/observability/sentry_integration.py:124:13: error: Returning Any from function declared to return "str | None"  [no-any-return]
agentflow/observability/sentry_integration.py:166:13: error: Returning Any from function declared to return "str | None"  [no-any-return]
agentflow/memory/embeddings/sentence_transformer_embeddings.py:70:13: error: Returning Any from function declared to return "list[float]"  [no-any-return]
agentflow/integrations/sse_flow_runner.py:178:40: error: "Coroutine[Any, Any, AsyncIterator[tuple[dict[str, Any] | None, AGUIEvent | None]]]" has no attribute "__aiter__" (not async iterable)  [attr-defined]
agentflow/integrations/sse_flow_runner.py:178:40: note: Maybe you forgot to use "await"?
agentflow/integrations/sse_flow_runner.py:281:25: error: Argument "flow" to "SSEFlowRunner" has incompatible type "_SimpleFlowWrapper"; expected "FlowProtocol | None"  [arg-type]
agentflow/integrations/sse_flow_runner.py:281:25: note: Following member(s) of "_SimpleFlowWrapper" have conflicts:
agentflow/integrations/sse_flow_runner.py:281:25: note:     Expected:
agentflow/integrations/sse_flow_runner.py:281:25: note:         def run_with_events(self, input_data: dict[str, Any]) -> Coroutine[Any, Any, AsyncIterator[tuple[dict[str, Any] | None, AGUIEvent | None]]]
agentflow/integrations/sse_flow_runner.py:281:25: note:     Got:
agentflow/integrations/sse_flow_runner.py:281:25: note:         def run_with_events(self, input_data: dict[str, Any]) -> AsyncIterator[tuple[dict[str, Any] | None, AGUIEvent | None]]
agentflow/evolution/validator_worker.py:84:19: error: Item "None" of "Any | None" has no attribute "xadd"  [union-attr]
agentflow/evolution/validator_worker.py:103:30: error: Item "None" of "Any | None" has no attribute "xreadgroup"  [union-attr]
agentflow/skills/gateway.py:151:57: error: Missing type parameters for generic type "dict"  [type-arg]
agentflow/skills/gateway.py:192:38: error: Missing type parameters for generic type "dict"  [type-arg]
agentflow/sandbox/builtin_tools.py:56:20: error: Incompatible types in assignment (expression has type "DockerProvider", variable has type "MicrosandboxProvider")  [assignment]
agentflow/sandbox/builtin_tools.py:60:20: error: Incompatible types in assignment (expression has type "E2BProvider", variable has type "MicrosandboxProvider")  [assignment]
agentflow/sandbox/builtin_tools.py:145:24: error: Value of type "Collection[str]" is not indexable  [index]
agentflow/orchestration/orchestrator.py:732:13: error: Returning Any from function declared to return "StrategyDecision"  [no-any-return]
agentflow/flow/rollback_flow.py:80:47: error: "type[NodeType]" has no attribute "ROLLBACK"  [attr-defined]
agentflow/flow/rollback_flow.py:189:47: error: "type[NodeType]" has no attribute "ROLLBACK"  [attr-defined]
agentflow/flow/parallel_flow.py:103:49: error: Argument 2 to "_aggregate_results" of "EnhancedParallelNode" has incompatible type "list[tuple[str, dict[str, Any] | Exception] | BaseException]"; expected "list[tuple[str, dict[str, Any] | Exception] | Exception]"  [arg-type]
agentflow/flow/parallel_flow.py:179:28: error: Need type annotation for "first_result"  [var-annotated]
agentflow/flow/parallel_flow.py:234:29: error: Argument 1 to "add_task" of "EnhancedParallelNode" has incompatible type "str | Any | None"; expected "str"  [arg-type]
agentflow/flow/graph.py:106:5: error: Function is missing a type annotation  [no-untyped-def]
agentflow/flow/conditional_flow.py:67:47: error: "type[NodeType]" has no attribute "CONDITIONAL"  [attr-defined]
agentflow/flow/conditional_flow.py:140:47: error: "type[NodeType]" has no attribute "SWITCH"  [attr-defined]
agentflow/discovery/health.py:40:21: error: Missing type parameters for generic type "Task"  [type-arg]
agentflow/cli/commands/template.py:213:29: error: Incompatible types in assignment (expression has type "bool", variable has type "str")  [assignment]
agentflow/sandbox/workspace.py:416:13: error: Cannot determine type of "_initialized"  [has-type]
agentflow/sandbox/workspace.py:421:12: error: Cannot determine type of "_initialized"  [has-type]
agentflow/sandbox/manager.py:163:10: error: Function "agentflow.sandbox.manager.SandboxManager.list" is not valid as a type  [valid-type]
agentflow/sandbox/manager.py:163:10: note: Perhaps you need "Callable[...]" or a callback protocol?
agentflow/flow/executor.py:158:33: error: Incompatible types in assignment (expression has type "NodeCompleteEvent", variable has type "NodeErrorEvent")  [assignment]
agentflow/flow/executor.py:186:37: error: Incompatible types in assignment (expression has type "FlowCompleteEvent", variable has type "NodeErrorEvent")  [assignment]
agentflow/flow/executor.py:199:37: error: Incompatible types in assignment (expression has type "FlowErrorEvent", variable has type "NodeErrorEvent")  [assignment]
agentflow/memory/episodic_memory.py:374:9: error: Returning Any from function declared to return "float"  [no-any-return]
agentflow/datalake/core.py:76:28: error: Missing type parameters for generic type "dict"  [type-arg]
agentflow/datalake/core.py:76:35: error: Missing type parameters for generic type "list"  [type-arg]
agentflow/evolution/storage/models.py:61:26: error: Missing type parameters for generic type "dict"  [type-arg]
agentflow/evolution/storage/models.py:137:26: error: Missing type parameters for generic type "dict"  [type-arg]
agentflow/evolution/storage/models.py:188:25: error: Missing type parameters for generic type "dict"  [type-arg]
agentflow/skills/voice.py:156:13: error: Returning Any from function declared to return "str"  [no-any-return]
agentflow/skills/voice.py:245:13: error: Returning Any from function declared to return "str"  [no-any-return]
agentflow/skills/builtin/voice/voice.py:156:13: error: Returning Any from function declared to return "str"  [no-any-return]
agentflow/skills/builtin/voice/voice.py:245:13: error: Returning Any from function declared to return "str"  [no-any-return]
agentflow/skills/builtin/design_skills/tools/comfyui_client.py:54:22: error: Argument "base_url" to "AsyncClient" has incompatible type "str | None"; expected "URL | str"  [arg-type]
agentflow/skills/builtin/design_skills/tools/comfyui_client.py:212:21: error: Returning Any from function declared to return "dict[str, Any]"  [no-any-return]
agentflow/protocols/ucp/ucp_client.py:183:17: error: Returning Any from function declared to return "dict[str, Any]"  [no-any-return]
agentflow/protocols/ucp/ucp_client.py:237:13: error: Returning Any from function declared to return "UCPIntentResponse"  [no-any-return]
agentflow/hitl/notification.py:304:40: error: Incompatible types in assignment (expression has type "bool | BaseException", target has type "bool")  [assignment]
agentflow/evolution/service_client.py:47:9: error: Returning Any from function declared to return "dict[str, Any]"  [no-any-return]
agentflow/evolution/service_client.py:82:9: error: Returning Any from function declared to return "dict[str, Any]"  [no-any-return]
agentflow/evolution/service_client.py:90:9: error: Returning Any from function declared to return "dict[str, Any]"  [no-any-return]
agentflow/observability/setup.py:200:17: error: Returning Any from function declared to return "Response"  [no-any-return]
agentflow/integrations/websocket_integration.py:230:31: error: Missing type parameters for generic type "Task"  [type-arg]
agentflow/hitl/api.py:115:44: error: Argument "tags" to "APIRouter" has incompatible type "list[str]"; expected "list[str | Enum] | None"  [arg-type]
agentflow/hitl/api.py:115:44: note: "list" is invariant -- see https://mypy.readthedocs.io/en/stable/common_issues.html#variance
agentflow/hitl/api.py:115:44: note: Consider using "Sequence" instead, which is covariant
agentflow/api/router_factory.py:111:20: error: Redundant cast to "dict[str, Any]"  [redundant-cast]
agentflow/api/router_factory.py:114:20: error: Redundant cast to "dict[str, Any]"  [redundant-cast]
agentflow/protocols/ucp/ucp_adapter.py:198:28: error: Unexpected keyword argument "ucp_metadata" for "DirectOffer"  [call-arg]
agentflow/hitl/__init__.py:77:1: error: Function is missing a type annotation for one or more arguments  [no-untyped-def]
agentflow/observability/otel_exporter.py:91:41: error: Dict entry 0 has incompatible type "str": "str | None"; expected "str": "int | float | Sequence[str] | Sequence[int] | Sequence[float]"  [dict-item]
agentflow/observability/otel_exporter.py:134:40: error: Argument 1 to "post" of "Client" has incompatible type "str | None"; expected "URL | str"  [arg-type]
agentflow/memory/embeddings/openai_embeddings.py:80:13: error: Returning Any from function declared to return "list[float]"  [no-any-return]
agentflow/memory/embeddings/openai_embeddings.py:116:16: error: Incompatible return value type (got "int | None", expected "int")  [return-value]
agentflow/cli/commands/marketplace.py:147:24: error: Unexpected keyword argument "version" for "install" of "MarketplaceClient"; did you mean "_version"?  [call-arg]
agentflow/marketplace/client.py:125:5: note: "install" of "MarketplaceClient" defined here
agentflow/protocols/mcp_client.py:241:35: error: Incompatible types in assignment (expression has type "str | None", variable has type "str")  [assignment]
agentflow/config/settings.py:50:19: error: Incompatible types in assignment (expression has type "None", variable has type "Callable[[str | PathLike[str] | None, IO[str] | None, bool, bool, bool, str | None], bool]")  [assignment]
agentflow/config/settings.py:316:9: error: Statement is unreachable  [unreachable]
agentflow/providers/llm_provider.py:160:26: error: Item "None" of "LLMClient | None" has no attribute "chat"  [union-attr]
agentflow/providers/llm_provider.py:173:26: error: Item "None" of "LLMClient | None" has no attribute "complete"  [union-attr]
agentflow/providers/llm_provider.py:193:28: error: Item "None" of "LLMClient | None" has no attribute "stream"  [union-attr]
agentflow/providers/db_provider.py:206:9: error: Returning Any from function declared to return "list[dict[str, Any]]"  [no-any-return]
agentflow/providers/db_provider.py:218:9: error: Returning Any from function declared to return "list[dict[str, Any]]"  [no-any-return]
agentflow/providers/db_provider.py:296:16: error: Incompatible types in assignment (expression has type "MockDBProvider", variable has type "SupabaseDBProvider")  [assignment]
agentflow/providers/unified_tool.py:503:9: error: Returning Any from function declared to return "dict[str, Any]"  [no-any-return]
agentflow/wizard/test_synthesizer.py:288:26: error: Item "LLMProvider" of "Any | LLMProvider" has no attribute "generate"  [union-attr]
agentflow/skills/document.py:517:9: error: Returning Any from function declared to return "dict[str, Any]"  [no-any-return]
agentflow/security/auth_client/config.py:38:25: error: Item "None" of "str | None" has no attribute "rstrip"  [union-attr]
agentflow/engines/base.py:137:27: error: Redundant cast to "RunStore"  [redundant-cast]
agentflow/engines/base.py:139:13: error: Statement is unreachable  [unreachable]
agentflow/engines/simple_engine.py:153:13: error: Returning Any from function declared to return "dict[str, Any]"  [no-any-return]
agentflow/engines/gate_engine.py:121:13: error: Returning Any from function declared to return "dict[str, Any]"  [no-any-return]
agentflow/sdk/api/router.py:136:20: error: Redundant cast to "T"  [redundant-cast]
agentflow/services/schema_linker.py:293:17: error: Returning Any from function declared to return "dict[str, float]"  [no-any-return]
agentflow/security/auth_client/client.py:117:29: error: List item 0 has incompatible type "str | None"; expected "str"  [list-item]
agentflow/security/auth_client/client.py:206: error: Unused "type: ignore" comment  [unused-ignore]
agentflow/skills/builtin/intelligence/report_builder.py:125:17: error: Returning Any from function declared to return "str"  [no-any-return]
agentflow/skills/builtin/ecommerce/listing_generator.py:233:17: error: Returning Any from function declared to return "str"  [no-any-return]
agentflow/skills/builtin/ecommerce/listing_generator.py:291:17: error: Returning Any from function declared to return "str"  [no-any-return]
agentflow/skills/builtin/ecommerce/daily_report.py:382:54: error: Missing type parameters for generic type "dict"  [type-arg]
agentflow/skills/builtin/ecommerce/daily_report.py:414:17: error: Returning Any from function declared to return "str"  [no-any-return]
agentflow/skills/builtin/code_analysis/static_analyzer.py:145:33: error: Missing type parameters for generic type "dict"  [type-arg]
agentflow/core/manager.py:106:49: error: Argument 1 to "validate_agent" of "AgentBlockManager" has incompatible type "AgentMetadata | None"; expected "AgentMetadata"  [arg-type]
agentflow/core/manager.py:201:20: error: Item "None" of "AgentMetadata | None" has no attribute "meta"  [union-attr]
agentflow/core/manager.py:244:24: error: Item "None" of "AgentMetadata | None" has no attribute "dependencies"  [union-attr]
Found 159 errors in 104 files (checked 601 source files)
ERROR conda.cli.main_run:execute(142): `conda run mypy agentflow --ignore-missing-imports --no-pretty --show-error-codes` failed. (See above for error)
