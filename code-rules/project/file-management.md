# ファイル管理規約

> **バージョン**: 1.0.0
> **適用範囲**: AgentFlow プロジェクト全体
> **最終更新**: 2026-02-13

## 📋 目次

1. [基本原則](#基本原則)
2. [ドキュメント配置規則](#ドキュメント配置規則)
3. [一時ファイル管理](#一時ファイル管理)
4. [プロジェクト固有ルール](#プロジェクト固有ルール)

---

## 🎯 基本原則

### ファイル配置の原則

1. **正式ドキュメント** → プロジェクト内の正式な場所に配置
2. **一時ファイル** → `.tmp/` または `.temp/` に配置
3. **生成ファイル** → 対象プロジェクトの `docs/` に配置
4. **分析レポート** → 対象プロジェクトの `docs/reports/` に配置

### ファイル生成時の判断基準

| ファイル種別 | 配置場所 | 保持期間 | 説明 |
|-------------|---------|---------|------|
| **設計ドキュメント** | `{project}/docs/` | 永続 | 仕様・設計・アーキテクチャ |
| **実装ガイド** | `{project}/docs/` | 永続 | 実装方法・チュートリアル |
| **分析レポート** | `{project}/docs/reports/` | 永続 | 機能分析・状態レポート |
| **一時分析** | `.tmp/` | 一時 | 調査用・デバッグ用 |
| **生成コード** | `{project}/` | 永続 | 実装コード |

---

## 📁 ドキュメント配置規則

### 1. プロジェクト内ドキュメント

```
{project}/docs/
├── README.md                    # プロジェクト概要
├── DESIGN.md                    # 設計ドキュメント
├── ARCHITECTURE.md              # アーキテクチャ
├── API.md                       # API仕様
├── IMPLEMENTATION.md            # 実装ガイド
├── TROUBLESHOOTING.md           # トラブルシューティング
├── reports/                     # 分析レポート
│   ├── STATUS_REPORT.md         # 機能実装状態
│   ├── ANALYSIS_*.md            # 分析レポート
│   └── CHANGELOG.md             # 変更履歴
└── examples/                    # 使用例
    └── *.md
```

### 2. ドキュメント命名規則

**正式ドキュメント:**
- `DESIGN.md` - 設計ドキュメント
- `STATUS_REPORT.md` - 状態レポート
- `IMPLEMENTATION_PLAN.md` - 実装計画
- `ANALYSIS_*.md` - 分析レポート

**一時ドキュメント:**
- `.tmp/analysis_*.md` - 一時分析
- `.tmp/draft_*.md` - ドラフト

---

## 🗂️ 一時ファイル管理

### 一時ファイルディレクトリ

```bash
# プロジェクトルートに作成
.tmp/
├── analysis/          # 分析用ファイル
├── drafts/           # ドラフト
├── debug/            # デバッグ用
└── .gitignore        # Git除外設定
```

### .gitignore 設定

```
# 一時ファイル
.tmp/
.temp/
*.tmp
*.bak
*.swp

# IDE
.vscode/
.idea/
*.pyc
__pycache__/

# 環境
.env
.env.local
```

---

## 🎯 プロジェクト固有ルール

### FAQ System の例

```
apps/faq_system/docs/
├── DESIGN.md                    # 設計ドキュメント
├── STATUS_REPORT.md             # 機能実装状態
├── IMPLEMENTATION_PLAN.md       # 実装計画
├── QUICK_START.md               # クイックスタート
├── API.md                       # API仕様
├── reports/
│   ├── FEATURE_ANALYSIS.md      # 機能分析
│   ├── SECURITY_AUDIT.md        # セキュリティ監査
│   └── CHANGELOG.md             # 変更履歴
└── examples/
    ├── login_implementation.py
    └── auth_integration.md
```

### ドキュメント生成時のチェックリスト

- [ ] 対象プロジェクトを確認
- [ ] `docs/` ディレクトリが存在するか確認
- [ ] 適切なファイル名を選択
- [ ] 既存ドキュメントと重複していないか確認
- [ ] 目次とリンクを確認
- [ ] 日本語で記述
- [ ] UTF-8 エンコーディング

---

## 📋 AI アシスタント向けガイドライン

### ドキュメント生成時

1. **確認**: 対象プロジェクトの `docs/` ディレクトリを確認
2. **判断**: 正式か一時かを判断
3. **配置**: 適切な場所に配置
4. **命名**: 規則に従った名前を付与
5. **記録**: 本規約に従う

### 禁止事項

- ❌ プロジェクトルートに直接ドキュメントを生成
- ❌ 無関係なドキュメントを生成
- ❌ 既存ドキュメントを無視して重複生成
- ❌ 英語でドキュメントを生成（日本語必須）

### 推奨事項

- ✅ 既存ドキュメントを確認してから生成
- ✅ 必要に応じて既存ドキュメントを更新
- ✅ 関連ドキュメント間のリンクを設定
- ✅ 目次を含める

---

## 🔄 ドキュメント更新フロー

```
1. 既存ドキュメント確認
   ↓
2. 更新が必要か判断
   ├─ YES → 既存ファイルを更新
   └─ NO → 新規ファイルを作成
   ↓
3. 適切な場所に配置
   ↓
4. 関連ドキュメントのリンク更新
   ↓
5. 完了
```

---

## 📞 参考

- [ドキュメント規約](../global/documentation-standards.md)
- [リポジトリ構造](./repo-structure.md)
- [開発原則](../global/principles.md)

